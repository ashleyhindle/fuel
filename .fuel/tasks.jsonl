{"id":"f-261a0a","title":"Add archive command - move closed tasks to .fuel/archive.jsonl","status":"in_progress","description":"Move closed tasks older than N days (default 30) to archive file. Options: --days=N (age threshold), --all (archive all closed). Archive file uses same JSONL format. Keeps active task list clean without losing history.","type":"feature","priority":2,"labels":[],"size":"m","complexity":"simple","blocked_by":[],"created_at":"2026-01-07T16:31:56+00:00","updated_at":"2026-01-07T16:33:20+00:00","consumed":true,"consumed_at":"2026-01-07T16:31:58+00:00","consume_pid":36405}
{"id":"f-4664ff","title":"test task","status":"closed","description":null,"type":"task","priority":2,"labels":[],"size":"m","complexity":"simple","blocked_by":[],"created_at":"2026-01-07T16:22:10+00:00","updated_at":"2026-01-07T16:22:28+00:00","consumed":true,"consumed_at":"2026-01-07T16:22:13+00:00","consume_pid":null,"consumed_exit_code":0,"consumed_output":"\n## Task completed: f-4664ff\n\n**Summary:**\n- Task \"test task\" (f-4664ff) marked as complete\n- Changes committed: `8ff069b` - \"chore: mark test task f-4664ff as complete\"\n- No incomplete or discovered work\n- Task state verified: no open tasks remaining\n\n**Closing protocol completed:**\n1. Task marked as done\n2. No incomplete/discovered work to file\n3. No code changes (only task status update)\n4. Changes committed to git\n5. Task state verified\n\nThe task is complete and all mandatory closing protocol steps have been finished.\n"}
{"id":"f-4c867f","title":"Test new prefix","status":"closed","description":null,"type":"task","priority":2,"labels":[],"size":"m","complexity":"simple","blocked_by":[],"created_at":"2026-01-07T16:20:50+00:00","updated_at":"2026-01-07T16:20:52+00:00"}
{"id":"f-50145a","title":"Test new prefix","status":"closed","description":null,"type":"task","priority":2,"labels":[],"size":"m","complexity":"simple","blocked_by":[],"created_at":"2026-01-07T16:20:49+00:00","updated_at":"2026-01-07T16:21:00+00:00"}
{"id":"fuel-023d","title":"Create GitHub Actions workflow for release builds","status":"closed","description":"Create .github/workflows/release.yml that triggers on version tags (v*). Steps:\n1. Checkout code\n2. Setup PHP 8.4\n3. composer install\n4. Build PHAR: php fuel app:build fuel.phar\n5. Run PHPacker for all platforms: ./vendor/bin/phpacker build --src=./builds/fuel.phar --php=8.4 all\n6. Rename binaries to fuel-{os}-{arch} format (e.g., fuel-darwin-arm64, fuel-linux-x64)\n7. Create GitHub release from tag\n8. Upload all binaries as release assets\n\nBinary naming for install script compatibility:\n- fuel-darwin-arm64 (macOS Apple Silicon)\n- fuel-darwin-x64 (macOS Intel)\n- fuel-linux-arm64\n- fuel-linux-x64\n- fuel-windows-x64.exe","type":"task","priority":2,"labels":[],"size":"m","blocked_by":["fuel-f7bc","fuel-9788"],"created_at":"2026-01-07T14:02:24+00:00","updated_at":"2026-01-07T14:37:53+00:00","consumed":true,"consumed_at":"2026-01-07T14:30:25+00:00","consumed_exit_code":0,"consumed_output":"\nFile creation is being blocked. Here is the workflow file content to create manually:\n\n**File: `.github/workflows/release.yml`**\n\n```yaml\nname: Release Build\n\non:\n  push:\n    tags:\n      - 'v*'\n\njobs:\n  build:\n    runs-on: ubuntu-latest\n    permissions:\n      contents: write\n    \n    steps:\n      - name: Checkout code\n        uses: actions/checkout@v4\n      \n      - name: Setup PHP 8.4\n        uses: shivammathur/setup-php@v2\n        with:\n          php-version: '8.4'\n          extensions: mbstring, xml, curl, zip\n          coverage: none\n      \n      - name: Get Composer Cache Directory\n        id: composer-cache\n        run: |\n          echo \"dir=$(composer config cache-files-dir)\" >> $GITHUB_OUTPUT\n      \n      - name: Cache Composer dependencies\n        uses: actions/cache@v4\n        with:\n          path: ${{ steps.composer-cache.outputs.dir }}\n          key: ${{ runner.os }}-composer-${{ hashFiles('**/composer.lock') }}\n          restore-keys: |\n            ${{ runner.os }}-composer-\n      \n      - name: Install dependencies\n        run: composer install --no-interaction --prefer-dist --optimize-autoloader\n      \n      - name: Build PHAR\n        run: php fuel app:build fuel.phar --build-version=${GITHUB_REF#refs/tags/}\n      \n      - name: Build binaries with PHPacker\n        run: ./vendor/bin/phpacker build --src=./builds/fuel.phar --php=8.4 all\n      \n      - name: Rename binaries to expected format\n        run: |\n          cd builds\n          \n          # Find and rename binaries\n          # PHPacker outputs: fuel-darwin-arm64, fuel-darwin-x86_64, fuel-linux-arm64, fuel-linux-x86_64, fuel-windows-x86_64.exe\n          # We need: fuel-darwin-arm64, fuel-darwin-x64, fuel-linux-arm64, fuel-linux-x64, fuel-windows-x64.exe\n          \n          # Rename x86_64 to x64\n          if [ -f \"fuel-darwin-x86_64\" ]; then\n            mv \"fuel-darwin-x86_64\" \"fuel-darwin-x64\"\n          fi\n          \n          if [ -f \"fuel-linux-x86_64\" ]; then\n            mv \"fuel-linux-x86_64\" \"fuel-linux-x64\"\n          fi\n          \n          if [ -f \"fuel-windows-x86_64.exe\" ]; then\n            mv \"fuel-windows-x86_64.exe\" \"fuel-windows-x64.exe\"\n          fi\n          \n          # List all binaries for verification\n          ls -lh fuel-* || echo \"No binaries found\"\n      \n      - name: Create GitHub Release\n        uses: softprops/action-gh-release@v1\n        with:\n          tag_name: ${{ github.ref }}\n          name: Release ${{ github.ref_name }}\n          draft: false\n          prerelease: false\n          files: |\n            builds/fuel-darwin-arm64\n            builds/fuel-darwin-x64\n            builds/fuel-linux-arm64\n            builds/fuel-linux-x64\n            builds/fuel-windows-x64.exe\n        env:\n          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n```\n\n**To create this file:**\n1. Create the directory: `mkdir -p .github/workflows`\n2. Create the file: `.github/workflows/release.yml` with the content above\n\nThe workflow:\n- Triggers on version tags (`v*`)\n- Sets up PHP 8.4\n- Installs dependencies with caching\n- Builds the PHAR file\n- Builds binaries for all platforms using PHPacker\n- Renames binaries from `x86_64` to `x64` format\n- Creates a GitHub release and uploads all binaries as assets\n\nAfter creating the file, mark the task complete with `./fuel done fuel-023d`.\n"}
{"id":"fuel-039a","title":"Support multiple IDs in done command","status":"closed","description":"Allow: ./fuel done fuel-a fuel-b fuel-c. Update DoneCommand to accept variadic ID argument. Document in CLAUDE.md and fuel-guidelines.md.","type":"task","priority":2,"labels":[],"size":"m","created_at":"2026-01-07T11:05:13+00:00","updated_at":"2026-01-07T11:13:13+00:00","blocked_by":[]}
{"id":"fuel-0603","title":"Add init command - creates .fuel/, runs guidelines --add, adds starter task","status":"closed","description":"Creates .fuel/ directory, injects guidelines into AGENTS.md, adds starter task 'Update README to mention this project uses Fuel for task management'. No options - opinionated setup.","type":"task","priority":1,"labels":[],"size":"m","created_at":"2026-01-07T12:06:11+00:00","updated_at":"2026-01-07T12:18:12+00:00","blocked_by":[]}
{"id":"fuel-061e","title":"Test task for reopen","status":"closed","description":null,"type":"task","priority":2,"labels":[],"size":"m","blocked_by":[],"created_at":"2026-01-07T12:48:57+00:00","updated_at":"2026-01-07T15:02:35+00:00","reason":"Test task cleanup"}
{"id":"fuel-0847","title":"Add size field to task schema (xs/s/m/l/xl). Add --size flag to add command. Add --size filter to ready/list commands. Use for model routing: xs/s â†’ local LLM, m â†’ standard, l/xl â†’ top-tier","status":"closed","description":null,"type":"task","priority":2,"labels":[],"created_at":"2026-01-07T10:46:14+00:00","updated_at":"2026-01-07T11:00:08+00:00","blocked_by":["fuel-faaa"]}
{"id":"fuel-0b39","title":"Design agent complexity/capability routing system","status":"closed","description":"Need a way to tag tasks for different agent capabilities. Ideas:\n- 'size' field (xs/s/m/l/xl) - already exists, but semantic meaning unclear\n- 'complexity' field (simple/moderate/complex)  \n- 'agent_tier' field (local/standard/premium)\n- 'model' field (haiku/sonnet/opus)\n\nQuestions to resolve:\n1. Should this be prescriptive (task says which model) or descriptive (task describes complexity, consume decides)?\n2. How does consume select which tasks to pick based on available agent?\n3. Should --agent flag in consume imply a capability level?\n\nThis affects: TaskService schema, AddCommand flags, ConsumeCommand selection logic.","type":"task","priority":2,"labels":["needs-human"],"size":"m","blocked_by":[],"created_at":"2026-01-07T14:43:01+00:00","updated_at":"2026-01-07T14:58:14+00:00","reason":"Decision: add complexity field (trivial/simple/moderate/complex), default simple, consume decides routing"}
{"id":"fuel-0b43","title":"test, delete me","status":"closed","created_at":"2026-01-07T10:20:38+00:00","updated_at":"2026-01-07T10:23:48+00:00","blocked_by":[]}
{"id":"fuel-0d88","title":"Filter needs-human tasks from ready command","status":"closed","description":"Tasks with 'needs-human' label should not appear in ready() results. Update TaskService::ready() to filter out tasks where labels array contains 'needs-human'. These tasks require human action before an agent can proceed.","type":"task","priority":2,"labels":[],"size":"m","blocked_by":[],"created_at":"2026-01-07T13:52:21+00:00","updated_at":"2026-01-07T13:53:20+00:00"}
{"id":"fuel-12e7","title":"Add 'in progress' to the fuel board","status":"closed","description":null,"type":"task","priority":2,"labels":[],"size":"m","created_at":"2026-01-07T11:40:57+00:00","updated_at":"2026-01-07T11:43:26+00:00","blocked_by":[]}
{"id":"fuel-12f0","title":"Remove stream_isatty at line 254 - sync output end","status":"closed","description":null,"type":"task","priority":2,"labels":[],"size":"m","blocked_by":["fuel-53ca"],"created_at":"2026-01-07T14:33:56+00:00","updated_at":"2026-01-07T14:34:45+00:00","consumed":true,"consumed_at":"2026-01-07T14:34:02+00:00","consumed_exit_code":0,"consumed_output":"\nTask complete. The `stream_isatty` check at line 254 (sync output end) was already removed by the parent task fuel-53ca. The sync output end code at line 247 (`\\033[?2026l`) now runs unconditionally, as intended. Tests pass, and the task is marked as done.\n","reason":"Completed by parent task fuel-53ca"}
{"id":"fuel-139d","title":"Add SelfUpdateCommand with OS/arch detection and GitHub download","status":"closed","description":"Create app/Commands/SelfUpdateCommand.php. Detect OS (Darwinâ†’darwin, Linuxâ†’linux, error on Windows). Detect arch (x86_64â†’x64, arm64/aarch64â†’arm64). Query GitHub API for latest version tag. Download binary from releases. Atomic replace at $HOME/.fuel/fuel. Display 'Updated to {version}' on success.","type":"feature","priority":2,"labels":[],"size":"m","complexity":"moderate","blocked_by":[],"created_at":"2026-01-07T15:51:13+00:00","updated_at":"2026-01-07T15:52:09+00:00","consumed":true,"consumed_at":"2026-01-07T15:51:16+00:00","consume_pid":null,"commit_hash":"15600f2","consumed_exit_code":0,"consumed_output":"\nTask completed.\n\n## Summary\n\nCreated `SelfUpdateCommand` with:\n\n1. OS detection: Darwinâ†’darwin, Linuxâ†’linux, error on Windows\n2. Architecture detection: x86_64â†’x64, arm64/aarch64â†’arm64\n3. GitHub API integration: queries `/releases/latest` for the latest version tag\n4. Binary download: downloads from GitHub releases using GuzzleHttp\n5. Atomic replacement: writes to a temp file, then renames to `$HOME/.fuel/fuel`\n6. Success message: displays \"Updated to {version}\" on completion\n\nThe command:\n- Detects OS/arch automatically\n- Handles errors (unsupported OS/arch, network failures, file operations)\n- Uses atomic file replacement for safety\n- Makes the binary executable after download\n\nAll tests pass, code is formatted, and changes are committed. The task `fuel-139d` is marked as complete.\n\nNote: There's a related task `fuel-922b` for adding tests to SelfUpdateCommand, which is now unblocked and ready to work on.\n"}
{"id":"fuel-1719","title":"test, delete me","status":"closed","created_at":"2026-01-07T10:17:18+00:00","updated_at":"2026-01-07T10:23:48+00:00","blocked_by":[]}
{"id":"fuel-17aa","title":"Sort ready() by priority then created_at","status":"closed","description":"Change ready() sort from just created_at to ['priority' => 'asc', 'created_at' => 'asc']. Makes P0/P1 tasks surface first.","type":"task","priority":2,"labels":[],"size":"m","created_at":"2026-01-07T11:21:03+00:00","updated_at":"2026-01-07T11:21:23+00:00","blocked_by":[]}
{"id":"fuel-1a07","title":"Add stuck command - list consumed tasks with non-zero exit codes","status":"closed","description":"./fuel stuck lists tasks where consumed=true AND consumed_exit_code != 0. Shows task ID, title, exit code, and truncated output. Supports --json flag.","type":"task","priority":2,"labels":[],"size":"m","blocked_by":[],"created_at":"2026-01-07T14:24:56+00:00","updated_at":"2026-01-07T14:26:38+00:00","consumed":true,"consumed_at":"2026-01-07T14:25:54+00:00","consumed_exit_code":0,"consumed_output":"\n## Summary\n\nImplemented the `stuck` command for Fuel.\n\n### Created `StuckCommand.php`\n- Lists tasks where `consumed=true` AND `consumed_exit_code != 0`\n- Displays task ID, title, exit code, and truncated output\n- Supports `--json` flag for JSON output\n- Follows the same pattern as other query commands (`CompletedCommand`, `HumanCommand`)\n\n### Added tests\n- 10 test cases covering:\n  - Empty state handling\n  - Filtering logic (only consumed tasks with non-zero exit codes)\n  - Display of exit code and output\n  - Output truncation for long content (500 chars)\n  - Exclusion of tasks with zero exit code\n  - Exclusion of tasks without consumed flag\n  - Exclusion of tasks without exit code\n  - JSON output format\n  - Sorting by `consumed_at` descending\n\n### Verification\n- All 203 tests pass (including 10 new tests for `stuck`)\n- Code formatting verified with Pint\n- Command registered and working correctly\n- Task marked as done\n\nThe command is ready to use. You can run `./fuel stuck` to see consumed tasks with non-zero exit codes, or `./fuel stuck --json` for JSON output.\n"}
{"id":"fuel-1e34","title":"Test task 1","status":"closed","description":null,"type":"task","priority":2,"labels":[],"size":"m","blocked_by":[],"created_at":"2026-01-07T13:27:51+00:00","updated_at":"2026-01-07T15:02:35+00:00","reason":"Test task cleanup"}
{"id":"fuel-1ef6","title":"Remove stream_isatty at line 46 - $isTty variable","status":"closed","description":null,"type":"task","priority":2,"labels":[],"size":"m","blocked_by":["fuel-53ca"],"created_at":"2026-01-07T14:33:56+00:00","updated_at":"2026-01-07T14:34:45+00:00","consumed":true,"consumed_at":"2026-01-07T14:34:19+00:00","consumed_exit_code":0,"consumed_output":"\nTask complete.\n\n## Summary\n\nTask `fuel-1ef6` is complete. The `$isTty` variable and `stream_isatty` check at line 46 in `ConsumeCommand.php` were already removed as part of the parent task `fuel-53ca`.\n\n**Verification:**\n- âœ… No `$isTty` or `stream_isatty` references found in `ConsumeCommand.php`\n- âœ… Line 46 now unconditionally outputs ANSI codes: `$this->getOutput()->write(\"\\033[?1049h\");`\n- âœ… Task marked as closed\n\nThe code now always enables alternate screen mode without TTY checks, matching the intended behavior. Task `fuel-1ef6` has been marked as done.\n","reason":"Completed by parent task fuel-53ca"}
{"id":"fuel-1f99","title":"Add --commit flag to done command to store git commit hash","status":"closed","description":"Add optional --commit=<hash> flag to done command. Store as commit_hash field on task. No auto-detection - hash must be explicitly passed. Update agent-instructions.md workflow to include passing commit hash when marking done.","type":"task","priority":2,"labels":[],"size":"m","complexity":"simple","blocked_by":[],"created_at":"2026-01-07T15:26:53+00:00","updated_at":"2026-01-07T15:28:13+00:00","consumed":true,"consumed_at":"2026-01-07T15:26:56+00:00","consume_pid":null,"commit_hash":"0e10f33","consumed_exit_code":0,"consumed_output":"\nThe `commit_hash` field is stored correctly. Summary:\n\n## Task completed: fuel-1f99\n\nImplemented the `--commit` flag for the `done` command.\n\n### Changes made:\n\n1. **DoneCommand.php** â€” Added `--commit` option:\n   - Added `{--commit= : Git commit hash to associate with this completion}` to the command signature\n   - Passes the commit hash to `TaskService::done()`\n   - Displays commit hash in non-JSON output\n\n2. **TaskService.php** â€” Updated `done()` method:\n   - Added optional `$commitHash` parameter\n   - Stores `commit_hash` field on the task when provided\n\n3. **agent-instructions.md** â€” Updated workflow:\n   - Updated \"Land The Plane\" protocol to include `--commit=$(git rev-parse HEAD)`\n   - Updated workflow step 5 to include the commit hash flag\n\n4. **CommandsTest.php** â€” Added tests:\n   - Test for `--commit` flag functionality\n   - Test for JSON output with commit hash\n   - Test to ensure commit_hash is not added when flag is not provided\n   - Test for using both `--reason` and `--commit` together\n\n### Verification:\n- All 245 tests pass\n- Code formatted with Pint\n- Task marked as done with commit hash `0e10f33`\n- Changes committed to git\n\nThe feature is complete and working. The `--commit` flag allows agents to associate a git commit hash with task completion, enabling better traceability between tasks and code changes.\n"}
{"id":"fuel-2171","title":"Let me pass multiple ids to 'fuel reopen' to reopen multiple at once","status":"closed","description":null,"type":"task","priority":2,"labels":[],"size":"m","blocked_by":[],"created_at":"2026-01-07T13:27:19+00:00","updated_at":"2026-01-07T13:28:02+00:00"}
{"id":"fuel-23ac","title":"Add update command. Use schema from fuel-faaa. Allow modifying: --title, --description, --type, --priority, --status, --add-labels, --remove-labels","status":"closed","created_at":"2026-01-07T10:36:44+00:00","updated_at":"2026-01-07T11:00:08+00:00","blocked_by":["fuel-faaa"]}
{"id":"fuel-254e","title":"Add comment explaining scoring weight ratios in ConsumeCommand","status":"closed","description":"calculateTaskScore() uses weights 100/10/1 for priority/complexity/size. Add a brief comment explaining why these ratios ensure priority always dominates, then complexity, then size as tiebreaker.","type":"task","priority":3,"labels":[],"size":"m","complexity":"trivial","blocked_by":[],"created_at":"2026-01-07T15:06:42+00:00","updated_at":"2026-01-07T15:08:05+00:00","consumed":true,"consumed_at":"2026-01-07T15:07:42+00:00","consume_pid":null,"consumed_exit_code":0,"consumed_output":"\nTask completed.\n\n## Summary\n\nAdded a comment in `ConsumeCommand.php` explaining the scoring weight ratios (100:10:1). The comment clarifies:\n\n1. **Priority dominates**: Maximum complexity difference (30) is less than the minimum priority step (100), so priority differences cannot be overcome by complexity or size.\n2. **Complexity breaks ties**: Maximum size difference (4) is less than the minimum complexity step (10), so complexity differences break ties when priority is equal.\n3. **Size is final tiebreaker**: Only affects ordering when priority and complexity are equal.\n\nAll closing protocol steps completed:\n- Task marked as done (fuel-254e)\n- Tests passed (224 tests)\n- Code formatting verified (Pint)\n- Changes committed with conventional commit message\n- Task state verified\n\nThe comment is in the docblock above the `calculateTaskScore()` method, explaining the mathematical guarantee behind the weight ratios.\n"}
{"id":"fuel-2615","title":"Add stuck icon to BoardCommand","status":"closed","description":"Show âŒ or ðŸ”´ icon in board view for stuck tasks (consumed=true && consumed_exit_code != 0). Similar to existing âš¡ for consuming and ðŸ‘¤ for needs-human.","type":"task","priority":2,"labels":[],"size":"m","blocked_by":[],"created_at":"2026-01-07T14:24:56+00:00","updated_at":"2026-01-07T14:27:10+00:00","consumed":true,"consumed_at":"2026-01-07T14:26:39+00:00","consumed_exit_code":0,"consumed_output":"\n## Summary\n\nAdded the stuck icon (âŒ) to BoardCommand.\n\n1. **Implementation**: Updated `buildColumn()` in `BoardCommand.php` to show âŒ for stuck tasks (consumed=true && consumed_exit_code != 0), following the same pattern as the âš¡ and ðŸ‘¤ icons.\n\n2. **Tests**: Added two tests:\n   - Shows âŒ for consumed tasks with non-zero exit code\n   - Does not show âŒ for consumed tasks with zero exit code\n\n3. **Verification**: All 205 tests pass, including the new tests.\n\nThe icon appears alongside other icons (âš¡ for consuming, ðŸ‘¤ for needs-human) when applicable. The task has been marked as complete.\n"}
{"id":"fuel-2767","title":"Test both icons","status":"closed","description":null,"type":"task","priority":2,"labels":["needs-human"],"size":"m","blocked_by":[],"created_at":"2026-01-07T13:55:50+00:00","updated_at":"2026-01-07T15:02:36+00:00","reason":"Test task cleanup"}
{"id":"fuel-2809","title":"move tailwind away from playground in public/index - use https://tailwindcss.com/docs/installation/tailwind-cli to set it up","status":"closed","description":"Maybe we can add the tailwind step in ./deploy.sh?","type":"task","priority":2,"labels":[],"size":"m","complexity":"simple","blocked_by":[],"created_at":"2026-01-07T15:21:36+00:00","updated_at":"2026-01-07T15:22:32+00:00","consumed":true,"consumed_at":"2026-01-07T15:21:59+00:00","consume_pid":null,"consumed_exit_code":0,"consumed_output":"\nTask completed.\n\n## Summary\n\nMigrated Tailwind CSS from the CDN playground to the Tailwind CLI setup:\n\n1. Created `package.json` with Tailwind CSS CLI dependency and build script\n2. Created `tailwind.config.js` with the custom fuel color palette\n3. Created `src/input.css` with Tailwind directives\n4. Updated `public/index.html` to use compiled `output.css` instead of the CDN script\n5. Updated `deploy.sh` to build Tailwind CSS before deploying (installs npm dependencies if needed)\n\nThe `deploy.sh` script now automatically:\n- Checks for `node_modules` and runs `npm install` if needed\n- Builds Tailwind CSS with `npm run build:css` before deployment\n\nAll tests pass, code is formatted, and changes are committed. The task is complete.\n"}
{"id":"fuel-2a2d","title":"Add q command - quick capture that outputs only task ID","status":"closed","description":"Like beads 'bd q' - creates task and outputs only the ID for scripting. Example: TASK=$(./fuel q \"Fix bug\") or ./fuel q \"Task\" | xargs ./fuel start","type":"feature","priority":2,"labels":[],"size":"m","created_at":"2026-01-07T11:31:07+00:00","updated_at":"2026-01-07T11:48:19+00:00","blocked_by":["fuel-a838"]}
{"id":"fuel-2d03","title":"Update commands for new dependency schema","status":"closed","description":"Update AddCommand, DepAddCommand, DepRemoveCommand, ShowCommand to use new {blocked_by} schema","type":"task","priority":2,"labels":[],"size":"m","created_at":"2026-01-07T12:42:36+00:00","updated_at":"2026-01-07T13:32:01+00:00","blocked_by":["fuel-732f"]}
{"id":"fuel-2ee9","title":"Test default complexity","status":"closed","description":null,"type":"task","priority":2,"labels":[],"size":"m","complexity":"simple","blocked_by":[],"created_at":"2026-01-07T15:02:21+00:00","updated_at":"2026-01-07T15:03:13+00:00","consumed":true,"consumed_at":"2026-01-07T15:02:22+00:00","consume_pid":null,"reason":"Test task cleanup","consumed_exit_code":0,"consumed_output":"\n## Summary\n\nCompleted task `fuel-2ee9`: \"Test default complexity\"\n\n**What I did:**\n1. Verified existing tests for default complexity:\n   - TaskService defaults complexity to 'simple' when not provided\n   - AddCommand defaults complexity to 'simple' when not specified\n2. Added a test to ensure complexity is preserved when updating a task without providing complexity\n3. All tests pass (224 tests, 659 assertions)\n4. Code formatted with Pint\n5. Changes committed\n\n**Test coverage for default complexity:**\n- âœ… TaskService creates tasks with default complexity 'simple'\n- âœ… AddCommand defaults to 'simple' when --complexity is not specified\n- âœ… Complexity enum validation (trivial, simple, moderate, complex)\n- âœ… Complexity is preserved when updating tasks without providing it\n\nThe test suite now covers default complexity behavior in both creation and update scenarios.\n"}
{"id":"fuel-3226","title":"Test task 3","status":"closed","description":null,"type":"task","priority":2,"labels":[],"size":"m","blocked_by":[],"created_at":"2026-01-07T13:27:51+00:00","updated_at":"2026-01-07T15:02:35+00:00","reason":"Test task cleanup"}
{"id":"fuel-34ce","title":"Audit and update documentation to match implementation","status":"closed","description":"FUEL-PLAN.md is outdated (old schema, missing commands). Review and update: 1) Archive FUEL-PLAN.md as FUEL-PLAN-ORIGINAL.md or update it, 2) Ensure CLAUDE.md Interface Contracts match actual TaskService methods, 3) Verify command list is complete, 4) Update task schema to show blocked_by (not dependencies), 5) Add any missing fields (size, consumed, labels).","type":"task","priority":2,"labels":[],"size":"m","blocked_by":["fuel-d47a"],"created_at":"2026-01-07T13:58:17+00:00","updated_at":"2026-01-07T14:19:24+00:00","consumed":true,"consumed_at":"2026-01-07T14:18:24+00:00","consumed_exit_code":0,"consumed_output":"\nCompleted the documentation audit. Summary:\n\n## Completed Tasks\n\n1. **Archived FUEL-PLAN.md** â†’ Created `FUEL-PLAN-ORIGINAL.md` with the original outdated design document\n2. **Updated Task Schema** â†’ Added all fields including:\n   - `size` (xs/s/m/l/xl)\n   - `consumed`, `consumed_at`, `consumed_exit_code`, `consumed_output` (for consume command)\n   - `reason` (for done command)\n   - All existing fields properly documented\n3. **Updated TaskService Method Signatures** â†’ Matched actual implementation:\n   - Added `all()`, `update()`, `reopen()`, `blocked()`\n   - Updated dependency methods to match actual signatures\n   - Added utility methods (`initialize()`, `getStoragePath()`, `migrateDependencies()`)\n4. **Added Complete Command List** â†’ Documented all 22+ commands:\n   - Core: `add`, `ready`, `start`, `done`, `show`, `update`, `reopen`\n   - Dependencies: `dep:add`, `dep:remove`\n   - Query: `list`, `blocked`, `completed`, `human`, `status`, `available`\n   - Display: `board`, `q`\n   - Workflow: `consume`, `init`\n   - Utility: `guidelines`, `migrate`, `inspire`\n5. **Verified blocked_by Schema** â†’ Confirmed `blocked_by` (array of IDs) is correctly documented, not the old `dependencies` schema\n\nAll documentation now matches the implementation. Task `fuel-34ce` has been marked as complete.\n"}
{"id":"fuel-374c","title":"Add blocked command - show tasks with open blockers","status":"closed","description":"Inverse of 'ready' - shows open tasks that have unresolved dependencies. Helps visibility into what's waiting. Simple filter flip from ready().","type":"feature","priority":2,"labels":[],"size":"m","created_at":"2026-01-07T11:31:07+00:00","updated_at":"2026-01-07T13:19:47+00:00","blocked_by":["fuel-a838"]}
{"id":"fuel-3aca","title":"Add --description/-d flag to AddCommand. Use schema from fuel-faaa: pass to create(['description' => $value])","status":"closed","created_at":"2026-01-07T10:36:43+00:00","updated_at":"2026-01-07T10:53:22+00:00","blocked_by":["fuel-faaa"]}
{"id":"fuel-3bab","title":"Test stuck task","status":"closed","description":null,"type":"task","priority":2,"labels":[],"size":"m","blocked_by":[],"created_at":"2026-01-07T14:35:38+00:00","updated_at":"2026-01-07T15:02:36+00:00","reason":"Test task cleanup"}
{"id":"fuel-4126","title":"Only re-render the board if there's been a change / new content is different","status":"closed","description":null,"type":"task","priority":2,"labels":[],"size":"m","created_at":"2026-01-07T12:06:07+00:00","updated_at":"2026-01-07T12:15:08+00:00","blocked_by":[]}
{"id":"fuel-414b","title":"Test complexity feature","status":"closed","description":null,"type":"task","priority":2,"labels":[],"size":"m","complexity":"complex","blocked_by":[],"created_at":"2026-01-07T15:02:21+00:00","updated_at":"2026-01-07T15:02:36+00:00","reason":"Test task cleanup"}
{"id":"fuel-4193","title":"Increase task ID hash length from 4 to 6 characters","status":"closed","description":"Change $length from 4 to 6 in generateId(). Increases possibilities from 65K to 16.7M, pushing 50% collision threshold from ~300 to ~4,800 tasks.","type":"chore","priority":2,"labels":[],"size":"m","complexity":"trivial","blocked_by":[],"created_at":"2026-01-07T16:18:02+00:00","updated_at":"2026-01-07T16:18:54+00:00","consumed":true,"consumed_at":"2026-01-07T16:18:05+00:00","consume_pid":null,"commit_hash":"6e412d5","consumed_exit_code":0,"consumed_output":"\nTask completed.\n\n## Summary\n\nIncreased the task ID hash length from 4 to 6 characters:\n\n1. Updated `generateId()` in `TaskService.php`: changed `$length` from 4 to 6\n2. Updated tests:\n   - `TaskServiceTest.php`: changed expected ID length from 9 to 11 characters (fuel- + 6 chars)\n   - `CommandsTest.php`: updated the q command test to expect 11 characters\n3. Verified: all tests pass\n4. Formatted: code passes linting\n5. Committed: changes committed with hash `6e412d5`\n6. Marked complete: task fuel-4193 marked as done with commit hash\n\nThe change increases the collision space from 65K to 16.7M possibilities, pushing the 50% collision threshold from ~300 to ~4,800 tasks. All tests pass and the code is formatted correctly.\n"}
{"id":"fuel-41de","title":"Remove stream_isatty at line 279 - terminal title","status":"closed","description":null,"type":"task","priority":2,"labels":[],"size":"m","blocked_by":["fuel-53ca"],"created_at":"2026-01-07T14:33:56+00:00","updated_at":"2026-01-07T14:34:54+00:00","consumed":true,"consumed_at":"2026-01-07T14:34:40+00:00","reason":"Completed by parent task fuel-53ca","consumed_exit_code":0,"consumed_output":"\nTask fuel-41de is complete and closed.\n\n**Summary:**\n- Verified that the `stream_isatty` check at line 279 (in `setTerminalTitle`) was already removed by parent task fuel-53ca\n- Confirmed no `stream_isatty` references remain in ConsumeCommand.php\n- The `setTerminalTitle` method now outputs ANSI codes unconditionally (lines 267-271)\n- Task marked as done with reason: \"Completed by parent task fuel-53ca\"\n\nThe task is closed and ready.\n"}
{"id":"fuel-4782","title":"Add feature tests for start command","status":"closed","description":"Test StartCommand: 1) start command sets status to in_progress, 2) start command excludes task from ready() output, 3) start command supports partial ID matching, 4) start command returns JSON when --json flag used, 5) start command handles invalid IDs gracefully","type":"task","priority":2,"labels":[],"size":"m","created_at":"2026-01-07T11:18:15+00:00","updated_at":"2026-01-07T11:18:59+00:00","blocked_by":[]}
{"id":"fuel-48a0","title":"Extract enum validation to constants in TaskService","status":"closed","description":"DRY violation: validTypes, validSizes, validComplexities, validStatuses are duplicated in create() and update(). Extract to class constants and/or a validateEnum() helper method.","type":"task","priority":2,"labels":[],"size":"m","complexity":"simple","blocked_by":[],"created_at":"2026-01-07T15:06:41+00:00","updated_at":"2026-01-07T15:07:16+00:00","consumed":true,"consumed_at":"2026-01-07T15:06:42+00:00","consume_pid":null,"consumed_exit_code":0,"consumed_output":"\nTask completed.\n\n## Summary\n\nRefactored TaskService to remove DRY violations in enum validation:\n\n1. **Extracted class constants:**\n   - `VALID_TYPES = ['bug', 'feature', 'task', 'epic', 'chore']`\n   - `VALID_SIZES = ['xs', 's', 'm', 'l', 'xl']`\n   - `VALID_COMPLEXITIES = ['trivial', 'simple', 'moderate', 'complex']`\n   - `VALID_STATUSES = ['open', 'in_progress', 'closed']`\n\n2. **Created `validateEnum()` helper method** to centralize validation logic\n\n3. **Updated `create()` and `update()` methods** to use the constants and helper method\n\nAll tests pass (224 tests), code formatted, and changes committed. The task `fuel-48a0` has been marked as complete.\n"}
{"id":"fuel-4ada","title":"Add 'guidelines --add' flag to inject/update <fuel>...</fuel> section in AGENTS.md","status":"closed","description":"When --add flag is passed, read agent-instructions.md content, wrap in <fuel>...</fuel> tags, and either insert into AGENTS.md or replace existing <fuel>...</fuel> section using preg_replace. Creates AGENTS.md if it doesn't exist.","type":"task","priority":2,"labels":[],"size":"m","created_at":"2026-01-07T12:03:49+00:00","updated_at":"2026-01-07T12:16:53+00:00","blocked_by":[]}
{"id":"fuel-4fc0","title":"Add dep:add command - add dependency between tasks with cycle detection","status":"closed","created_at":"2026-01-07T10:24:01+00:00","updated_at":"2026-01-07T10:34:23+00:00","blocked_by":[]}
{"id":"fuel-507b","title":"Add --blocked-by flag to add command (create with dependency)","status":"closed","created_at":"2026-01-07T10:36:43+00:00","updated_at":"2026-01-07T10:56:45+00:00","blocked_by":[]}
{"id":"fuel-53ca","title":"Remove stream_isatty checks from ConsumeCommand","status":"closed","description":"Found 4 occurrences at lines 46, 228, 254, 279. Remove TTY checks - always output ANSI codes.","type":"task","priority":2,"labels":[],"size":"m","blocked_by":[],"created_at":"2026-01-07T14:33:37+00:00","updated_at":"2026-01-07T14:34:01+00:00","consumed":true,"consumed_at":"2026-01-07T14:33:41+00:00","consumed_exit_code":0,"consumed_output":"\nTask complete. Removed all 4 `stream_isatty` checks from `ConsumeCommand`:\n\n1. **Line 46**: Removed the `$isTty` variable and conditional; always enable alternate screen mode\n2. **Line 228**: Removed the check in `refreshDisplay()`; always output synchronized output ANSI codes\n3. **Line 254**: Removed the check in `refreshDisplay()`; always end synchronized output\n4. **Line 279**: Removed the check in `setTerminalTitle()`; always set terminal title\n\nAlso updated the `finally` block to always restore the alternate screen, regardless of TTY status.\n\nAll tests pass, and the task has been marked as done. The command now always outputs ANSI codes, even when not connected to a TTY.\n"}
{"id":"fuel-540f","title":"Test human command","status":"closed","description":"This is a test description for human review","type":"task","priority":2,"labels":["needs-human"],"size":"m","blocked_by":[],"created_at":"2026-01-07T13:53:50+00:00","updated_at":"2026-01-07T15:02:35+00:00","reason":"Test task cleanup"}
{"id":"fuel-55fe","title":"Land the plane - final verification and session handoff","status":"closed","description":"Run full test suite, pint formatting, verify all changes committed, update CLAUDE.md if needed, provide session summary.","type":"chore","priority":2,"labels":[],"size":"m","created_at":"2026-01-07T11:31:16+00:00","updated_at":"2026-01-07T13:21:26+00:00","blocked_by":["fuel-2a2d","fuel-374c","fuel-6485","fuel-f0d4"]}
{"id":"fuel-56fb","title":"Add a 'fuel completed' command that shows a nice list of the last X completed tasks","status":"closed","description":null,"type":"task","priority":2,"labels":[],"size":"m","blocked_by":[],"created_at":"2026-01-07T13:34:08+00:00","updated_at":"2026-01-07T13:54:56+00:00"}
{"id":"fuel-57e3","title":"Update consume prompt to instruct agents on needs-human workflow","status":"closed","description":"When an agent is blocked (can't create files, needs credentials, etc), it should: 1) Create a needs-human task with details 2) Block current task on it 3) Exit. Update the PROMPT in ConsumeCommand to include these instructions.","type":"task","priority":2,"labels":[],"size":"m","blocked_by":[],"created_at":"2026-01-07T14:36:52+00:00","updated_at":"2026-01-07T14:37:07+00:00","consumed":true,"consumed_at":"2026-01-07T14:36:57+00:00","consumed_exit_code":0,"consumed_output":"\nTask complete.\n\n**Summary:**\nUpdated `ConsumeCommand` to include a \"NEEDS-HUMAN WORKFLOW\" section in the prompt. When an agent is blocked (can't create files, needs credentials, etc.), it should:\n1. Create a needs-human task with clear details\n2. Block the current task on the needs-human task\n3. Exit immediately\n\nThe instructions are integrated into the prompt sent to agents when they consume tasks, ensuring they follow the needs-human workflow when blocked.\n\nTask `fuel-57e3` has been marked as complete.\n"}
{"id":"fuel-5852","title":"Add complexity field to task schema","status":"closed","description":"Add 'complexity' field to TaskService with values: trivial, simple, moderate, complex. Default: simple. Update CLAUDE.md Task Object Schema section.","type":"task","priority":1,"labels":[],"size":"m","blocked_by":[],"created_at":"2026-01-07T14:58:25+00:00","updated_at":"2026-01-07T14:59:48+00:00","consumed":true,"consumed_at":"2026-01-07T14:58:29+00:00","consume_pid":null,"consumed_exit_code":0,"consumed_output":"\n## Summary\n\n1. **Added complexity field to TaskService** (`app/Services/TaskService.php`):\n   - Validation in `create()`: accepts `trivial`, `simple`, `moderate`, `complex`\n   - Default value: `simple` when not provided\n   - Validation in `update()`: same enum validation\n   - Included in task array creation and updates\n\n2. **Updated CLAUDE.md**:\n   - Added `complexity` to the Task Object Schema JSON example\n   - Added `complexity` to the default fields list\n   - Updated the Data Storage section to mention complexity\n\n3. **Updated tests** (`tests/Unit/TaskServiceTest.php`):\n   - Added `complexity` to the schema fields test\n   - Added test for complexity enum validation\n   - Added test for default complexity value\n\nAll tests pass (45 tests, 131 assertions), code formatted, changes committed, and task fuel-5852 marked as complete. Related tasks (fuel-7455, fuel-c340) remain open and can proceed now that the schema change is complete.\n"}
{"id":"fuel-59a5","title":"Verify new commands use refactored patterns correctly","status":"closed","description":"After adding q, blocked, reopen, status commands - verify they all use the new trait/base class patterns correctly. Run tests, check consistency.","type":"chore","priority":2,"labels":[],"size":"m","created_at":"2026-01-07T11:31:15+00:00","updated_at":"2026-01-07T13:20:47+00:00","blocked_by":["fuel-2a2d","fuel-374c","fuel-6485","fuel-f0d4"]}
{"id":"fuel-5d32","title":"Review self-update implementation","status":"closed","description":"Run ./vendor/bin/pest to verify tests pass. Run ./vendor/bin/pint to check formatting. Review SelfUpdateCommand.php for edge cases: network errors, permission issues, partial downloads. Verify atomic write pattern is correct.","type":"task","priority":2,"labels":[],"size":"m","complexity":"trivial","blocked_by":["fuel-922b"],"created_at":"2026-01-07T15:51:24+00:00","updated_at":"2026-01-07T15:54:49+00:00","consumed":true,"consumed_at":"2026-01-07T15:53:47+00:00","consume_pid":null,"reason":"Review complete: 25 tests pass, formatting good, atomic write pattern correct","commit_hash":"e15052d","consumed_exit_code":0,"consumed_output":"\n## Review Summary\n\n**Tests:** All 25 tests pass  \n**Formatting:** Pint fixed 1 style issue  \n**Atomic Write Pattern:** Verified correct (temp file + rename)\n\n### Edge Cases Reviewed & Fixed:\n\n1. **Network Errors** âœ…\n   - Handled via `GuzzleException` catch blocks\n   - Timeouts configured (10s API, 300s download)\n   - HTTP status codes verified\n\n2. **Permission Issues** âœ… Fixed\n   - Added check for `chmod()` failure (was missing)\n   - Directory creation errors already handled\n   - Rename failures already handled\n\n3. **Partial Downloads** âœ… Fixed\n   - Added verification that downloaded file exists and is not empty\n   - HTTP status code already checked\n   - Temp file cleanup on failures already handled\n\n4. **JSON Decode** âœ… Fixed\n   - Added check for `json_decode()` returning `null` (malformed JSON)\n\n### Changes Made:\n- Added `chmod()` return value check with error handling\n- Added JSON decode null validation\n- Added downloaded file existence and size verification\n\nAll edge cases are now properly handled. The atomic write pattern (temp file + rename) is correct and matches the pattern used in `TaskService`.\n\nTask completed and committed as `e15052d`.\n"}
{"id":"fuel-5fc9","title":"Add tests for GuidelinesCommand --add flag","status":"closed","description":"GuidelinesCommand at 54.5% coverage. Add tests for --add flag that injects guidelines into AGENTS.md. Lines 22-24, 33-35, 46-56 uncovered.","type":"task","priority":3,"labels":[],"size":"m","complexity":"simple","blocked_by":[],"created_at":"2026-01-07T15:20:24+00:00","updated_at":"2026-01-07T15:25:29+00:00","consumed":true,"consumed_at":"2026-01-07T15:22:33+00:00","consume_pid":null,"consumed_exit_code":0,"consumed_output":"\n## Summary\n\nAdded tests for GuidelinesCommand's `--add` flag. Implemented:\n\n1. **Test suite** covering:\n   - Creating AGENTS.md when it doesn't exist (lines 57-60)\n   - Replacing existing `<fuel>` section (lines 49-50)\n   - Appending `<fuel>` section when no fuel section exists (lines 51-53)\n   - Using custom `--cwd` option\n   - Error handling when agent-instructions.md not found (lines 22-24)\n   - Outputting guidelines content when `--add` flag is not used (lines 33-35)\n\n2. **All tests pass**: 240 tests passing (713 assertions)\n\n3. **Code formatted**: Ran Pint formatter\n\n4. **Changes committed**: Committed with conventional commit message\n\nThe tests cover the previously uncovered lines (22-24, 33-35, 46-56) and improve coverage for GuidelinesCommand. Task fuel-5fc9 is complete.\n"}
{"id":"fuel-604f","title":"Update CLAUDE.md interface contracts for new features","status":"closed","created_at":"2026-01-07T10:36:44+00:00","updated_at":"2026-01-07T11:04:38+00:00","blocked_by":["fuel-3aca","fuel-f6a1","fuel-f273","fuel-aafe","fuel-507b","fuel-d27d","fuel-658a","fuel-23ac","fuel-74a3"]}
{"id":"fuel-626d","title":"Add guidelines command that outputs CLAUDE.md snippet","status":"closed","description":"Simple command that prints the fuel task management guidelines. Users copy/paste into their CLAUDE.md or AGENTS.md. Use fuel-guidelines.md as the template source.","type":"task","priority":2,"labels":[],"size":"m","created_at":"2026-01-07T11:13:04+00:00","updated_at":"2026-01-07T11:13:51+00:00","blocked_by":[]}
{"id":"fuel-6485","title":"Add reopen command - reopen closed tasks","status":"closed","description":"Explicit command to reopen a closed task. More semantic than 'update --status=open'. Sets status back to open.","type":"feature","priority":2,"labels":[],"size":"m","created_at":"2026-01-07T11:31:07+00:00","updated_at":"2026-01-07T12:49:14+00:00","blocked_by":["fuel-a838"]}
{"id":"fuel-6527","title":"Update agent-instructions.md to mention fuel start usage","status":"closed","description":"Update agent-instructions.md to: 1) Add fuel start to quick reference, 2) Update 'Starting a Session' section to mention claiming tasks with fuel start, 3) Update 'Parallel Execution' section to instruct primary agents to use fuel start when assigning tasks to subagents, 4) Update 'Working on Tasks' section to include claiming task as step 1","type":"task","priority":1,"labels":[],"size":"m","created_at":"2026-01-07T11:18:16+00:00","updated_at":"2026-01-07T11:18:23+00:00","blocked_by":[]}
{"id":"fuel-658a","title":"Add show command. Use schema from fuel-faaa. Display all fields including description, type, priority, labels, dependencies.","status":"closed","created_at":"2026-01-07T10:36:44+00:00","updated_at":"2026-01-07T11:00:08+00:00","blocked_by":["fuel-faaa"]}
{"id":"fuel-6c34","title":"Improve QCommand test coverage","status":"closed","description":"QCommand at 77.8% coverage. Add tests for edge cases (lines 32-33 uncovered). Quick win to get to 100%.","type":"task","priority":3,"labels":[],"size":"m","complexity":"trivial","blocked_by":[],"created_at":"2026-01-07T15:20:24+00:00","updated_at":"2026-01-07T15:26:23+00:00","consumed":true,"consumed_at":"2026-01-07T15:25:30+00:00","consume_pid":null,"consumed_exit_code":0,"consumed_output":"\n## Summary\n\n- Added test for RuntimeException handling: covers lines 32-33 in QCommand's catch block.\n- Added `--json` option to QCommand: required by the `HandlesJsonOutput` trait used by the command.\n- Coverage: QCommand is now at 100% (was 77.8%).\n- All tests pass: 241 tests passing.\n- Code formatted: Pint passed.\n\nThe new test mocks TaskService to throw a RuntimeException when `create()` is called, verifying that QCommand:\n- Catches the exception\n- Outputs the error message\n- Returns the correct failure exit code\n\nTask completed and committed.\n"}
{"id":"fuel-6d43","title":"Add missing type hints to TaskService","status":"closed","description":"TaskService is at 75% type coverage. Add missing parameter/return types to reach 100%. Run: pest --type-coverage to find gaps.","type":"task","priority":2,"labels":[],"size":"m","complexity":"simple","blocked_by":[],"created_at":"2026-01-07T15:20:23+00:00","updated_at":"2026-01-07T15:21:12+00:00","consumed":true,"consumed_at":"2026-01-07T15:20:27+00:00","consume_pid":null,"consumed_exit_code":0,"consumed_output":"\nTask completed.\n\n## Summary\n\nAdded the missing type hint to `TaskService` to reach 100% type coverage:\n\n- **Change**: Added `mixed` type hint to the `$value` parameter in the `validateEnum` method (line 91)\n- **Result**: TaskService type coverage increased from 75% to 100%\n- **Verification**: All 224 tests pass, code formatted, changes committed\n\nThe missing type hint was on the `$value` parameter in `validateEnum`, which had a PHPDoc `@param mixed` but no explicit type hint. Adding `mixed` satisfies Pest's type coverage requirements.\n\nAll closing protocol steps completed:\n- Task marked as done\n- Tests passed\n- Code formatted\n- Changes committed\n- Task state verified\n"}
{"id":"fuel-6d59","title":"Closed task with needs-human","status":"closed","description":"This should not appear","type":"task","priority":2,"labels":["needs-human"],"size":"m","blocked_by":[],"created_at":"2026-01-07T13:53:54+00:00","updated_at":"2026-01-07T13:53:58+00:00"}
{"id":"fuel-6e15","title":"fix copy button transition to fuel emoji","status":"closed","description":"Right now they appear right next to each other and show/hide on hover instead, with no opacity/duration/delay. use tailwind for transition delays so they appear in the same place and it just slowly transitions from clipboard to emoji and back","type":"task","priority":2,"labels":[],"size":"m","complexity":"simple","blocked_by":[],"created_at":"2026-01-07T16:05:45+00:00","updated_at":"2026-01-07T16:06:14+00:00","consumed":true,"consumed_at":"2026-01-07T16:05:49+00:00","consume_pid":null,"consumed_exit_code":0,"consumed_output":"\n## Summary\n\nFixed the copy button transition in `public/index.html`:\n\n1. Overlapping icons: Both the clipboard icon and fuel emoji are absolutely positioned in the same place (using `absolute` within the `relative` button container).\n\n2. Tailwind transitions with delays:\n   - Clipboard icon: `transition-opacity duration-500 delay-0 opacity-100 group-hover:opacity-0`\n   - Fuel emoji: `transition-opacity duration-500 delay-150 opacity-0 group-hover:opacity-100`\n   - Creates a cross-fade: clipboard fades out first, then emoji fades in\n\n3. Simplified JavaScript: Removed manual opacity manipulation for hover; CSS handles it via `group-hover:` classes.\n\n4. Completed closing protocol:\n   - Task marked as done\n   - Changes committed: `fix: improve copy button transition with Tailwind delays and overlapping icons`\n   - Task state verified: no open tasks\n\nThe transition now smoothly cross-fades between the clipboard icon and fuel emoji on hover, with both icons appearing in the same position.\n"}
{"id":"fuel-6f1d","title":"Test blocker","status":"closed","created_at":"2026-01-07T10:31:10+00:00","updated_at":"2026-01-07T15:02:34+00:00","blocked_by":[],"reason":"Test task cleanup"}
{"id":"fuel-707c","title":"Add dep:remove command - remove dependency between tasks","status":"closed","created_at":"2026-01-07T10:24:01+00:00","updated_at":"2026-01-07T10:34:24+00:00","blocked_by":[]}
{"id":"fuel-732f","title":"Update TaskService dependency methods for new schema","status":"closed","description":"Change addDependency(), removeDependency(), getBlockers(), ready() to use {blocked_by: id} instead of {depends_on: id, type: blocks}","type":"task","priority":2,"labels":[],"size":"m","created_at":"2026-01-07T12:42:23+00:00","updated_at":"2026-01-07T13:31:21+00:00","blocked_by":["fuel-9fa9"]}
{"id":"fuel-7374","title":"Add consume command - shows board, loops while available, spawns cursor-agent to work tasks","status":"closed","description":"Live board display that auto-spawns agents. Loop: check available, if tasks exist spawn 'cursor-agent -p \"Consume the fuel, land the plane\"', show status in output. Uses BoardCommand display logic. Future: config file for agent command, timeouts, etc.","type":"task","priority":1,"labels":[],"size":"m","created_at":"2026-01-07T12:30:38+00:00","updated_at":"2026-01-07T12:33:22+00:00","blocked_by":[]}
{"id":"fuel-7455","title":"Add --complexity flag to AddCommand","status":"closed","description":"Add --complexity option to add command accepting: trivial, simple, moderate, complex. Default to simple if not specified.","type":"task","priority":1,"labels":[],"size":"m","blocked_by":["fuel-5852"],"created_at":"2026-01-07T14:58:25+00:00","updated_at":"2026-01-07T15:00:23+00:00","consumed":true,"consumed_at":"2026-01-07T14:59:49+00:00","consume_pid":null,"consumed_exit_code":0,"consumed_output":"\nTask completed.\n\n## Summary\n\nAdded the `--complexity` flag to `AddCommand`:\n\n1. **Added `--complexity` option** to the command signature, accepting: `trivial`, `simple`, `moderate`, `complex`\n2. **Default value**: defaults to `\"simple\"` when not specified\n3. **Validation**: handled by `TaskService` (already implemented in fuel-5852)\n4. **Tests added**:\n   - Creates task with `--complexity` flag\n   - Defaults to `simple` when not specified\n   - Validates enum values\n   - Updated \"all flags together\" test to include complexity\n\nAll tests pass (223 tests, 656 assertions), code formatted, changes committed, and task fuel-7455 marked as complete.\n"}
{"id":"fuel-749b","title":"Disable built-in 'list' command to allow custom list command","status":"closed","description":null,"type":"task","priority":2,"labels":[],"size":"m","created_at":"2026-01-07T11:00:11+00:00","updated_at":"2026-01-07T11:03:54+00:00","blocked_by":[]}
{"id":"fuel-74a3","title":"Add --reason flag to done command","status":"closed","created_at":"2026-01-07T10:36:44+00:00","updated_at":"2026-01-07T11:00:08+00:00","blocked_by":[]}
{"id":"fuel-77f4","title":"Test task without needs-human","status":"closed","description":null,"type":"task","priority":2,"labels":[],"size":"m","blocked_by":[],"created_at":"2026-01-07T13:53:15+00:00","updated_at":"2026-01-07T15:02:35+00:00","reason":"Test task cleanup"}
{"id":"fuel-7a18","title":"Test task with needs-human","status":"closed","description":null,"type":"task","priority":2,"labels":["needs-human"],"size":"m","blocked_by":[],"created_at":"2026-01-07T13:53:15+00:00","updated_at":"2026-01-07T15:02:35+00:00","reason":"Test task cleanup"}
{"id":"fuel-7a75","title":"Add tests for dependency features","status":"closed","created_at":"2026-01-07T10:24:01+00:00","updated_at":"2026-01-07T10:34:24+00:00","blocked_by":[]}
{"id":"fuel-7c09","title":"Test task 1","status":"closed","description":null,"type":"task","priority":2,"labels":[],"size":"m","created_at":"2026-01-07T11:11:24+00:00","updated_at":"2026-01-07T15:02:34+00:00","blocked_by":[],"reason":"Test task cleanup"}
{"id":"fuel-7f44","title":"Test task 2","status":"closed","description":null,"type":"task","priority":2,"labels":[],"size":"m","created_at":"2026-01-07T11:11:24+00:00","updated_at":"2026-01-07T15:02:35+00:00","blocked_by":[],"reason":"Test task cleanup"}
{"id":"fuel-812a","title":"Store consume_pid in task when spawning agent","status":"closed","description":"In ConsumeCommand, store the process PID in task via taskService->update(taskId, ['consume_pid' => $process->getPid()]). This allows checking if the agent process is still running. Clear on completion.","type":"task","priority":2,"labels":[],"size":"m","blocked_by":[],"created_at":"2026-01-07T14:36:22+00:00","updated_at":"2026-01-07T14:36:40+00:00","consumed":true,"consumed_at":"2026-01-07T14:36:26+00:00","consumed_exit_code":0,"consumed_output":"\nTask complete.\n\n## Summary\n\nImplemented storing the process PID when spawning an agent in `ConsumeCommand`:\n\n1. **Store PID on spawn**: After `$process->start()` (line 157), added an update to store `consume_pid` with the process PID (lines 160-162).\n\n2. **Clear PID on completion**: When the process completes, set `consume_pid` to `null` in the update that stores the exit code and output (line 196).\n\nThis enables checking if the agent process is still running by reading `consume_pid` from the task. The PID is cleared when the process completes.\n\nThe implementation follows existing patterns in `ConsumeCommand` and passes linting. Task `fuel-812a` has been marked as done.\n"}
{"id":"fuel-81c3","title":"Test quick capture","status":"closed","description":null,"type":"task","priority":2,"labels":[],"size":"m","created_at":"2026-01-07T11:48:13+00:00","updated_at":"2026-01-07T15:02:35+00:00","blocked_by":[],"reason":"Test task cleanup"}
{"id":"fuel-85cd","title":"Fix flaky completed command --limit test","status":"closed","description":"Test at line 2468 uses usleep() for timestamp ordering which is unreliable. Should use explicit timestamps or mock time.","type":"task","priority":2,"labels":[],"size":"m","blocked_by":[],"created_at":"2026-01-07T14:43:06+00:00","updated_at":"2026-01-07T14:44:29+00:00","consumed":true,"consumed_at":"2026-01-07T14:43:09+00:00","consumed_exit_code":0,"consumed_output":"\nTask complete.\n\n## Summary\n\nFixed the flaky test in `tests/Feature/CommandsTest.php` at line 2448. The test used `usleep(200000)` to create different timestamps, which was unreliable.\n\n**The fix:**\n- Replaced `usleep()` with Carbon's `setTestNow()` to explicitly control timestamps\n- Set a base time and increment it for each task creation and completion\n- Wrapped the test in a try/finally block to always restore real time\n\n**Results:**\n- The specific test passes reliably\n- All 173 tests in the CommandsTest file pass\n- No regressions introduced\n\nThe test now uses explicit timestamps instead of sleep delays, making it deterministic and faster.\n"}
{"id":"fuel-86b8","title":"test, delete me","status":"closed","created_at":"2026-01-07T10:17:24+00:00","updated_at":"2026-01-07T10:23:48+00:00","blocked_by":[]}
{"id":"fuel-8dc1","title":"Update reopen command to clear consumed fields (consumed, consumed_at, consumed_exit_code, consumed_output)","status":"closed","description":"When reopening a task, clear all consumed_* fields so it can be retried cleanly. Task goes back to 'open' status.","type":"task","priority":2,"labels":[],"size":"m","blocked_by":[],"created_at":"2026-01-07T14:24:56+00:00","updated_at":"2026-01-07T14:27:39+00:00","consumed":true,"consumed_at":"2026-01-07T14:27:11+00:00","consumed_exit_code":0,"consumed_output":"\nTask completed.\n\n## Summary\n\nUpdated the `reopen` command to clear consumed fields when reopening a task.\n\n### Changes Made:\n\n1. **Updated `TaskService::reopen()` method** (`app/Services/TaskService.php`):\n   - Added code to clear all consumed fields: `consumed`, `consumed_at`, `consumed_exit_code`, `consumed_output`\n   - Uses `unset()` similar to how `reason` is cleared\n\n2. **Added test** (`tests/Feature/CommandsTest.php`):\n   - New test: `it clears consumed fields when reopening a task`\n   - Verifies that all consumed fields are removed when a task is reopened\n\n### Verification:\n\n- All 206 tests pass, including the new test\n- The implementation follows the existing pattern (clearing `reason` field)\n- When a task is reopened, it can be retried cleanly without leftover consumed metadata\n\nThe task has been marked as complete.\n"}
{"id":"fuel-8f4c","title":"Single test task","status":"closed","description":null,"type":"task","priority":2,"labels":[],"size":"m","created_at":"2026-01-07T11:12:01+00:00","updated_at":"2026-01-07T11:12:01+00:00","blocked_by":[]}
{"id":"fuel-922b","title":"Add tests for SelfUpdateCommand","status":"closed","description":"Test OS/arch detection mapping. Test error handling for unsupported OS. Mock HTTP calls to verify correct URL construction and download flow.","type":"task","priority":2,"labels":[],"size":"m","complexity":"simple","blocked_by":["fuel-139d"],"created_at":"2026-01-07T15:51:18+00:00","updated_at":"2026-01-07T15:53:46+00:00","consumed":true,"consumed_at":"2026-01-07T15:52:10+00:00","consume_pid":null,"commit_hash":"e8325b7e80696322bd8410185413707b8df56d58","consumed_exit_code":0,"consumed_output":"\n## Summary\n\nAdded tests for `SelfUpdateCommand` covering:\n\n1. **OS/Arch detection mapping**:\n   - Darwin â†’ darwin\n   - Linux â†’ linux\n   - x86_64 â†’ x64\n   - arm64/aarch64 â†’ arm64\n   - Unsupported OS/arch handling\n\n2. **Error handling**:\n   - Unsupported OS (Windows) error messages\n   - Unsupported architecture error messages\n   - Missing HOME environment variable handling\n\n3. **URL construction**:\n   - GitHub API URL format\n   - Binary download URLs for all OS/arch combinations\n   - GitHub repository constants\n\n4. **HTTP and download flow**:\n   - Error handling for failed downloads\n   - Non-200 HTTP response handling\n   - Temp file cleanup on failure\n   - Streaming download with sink option\n\n5. **File operations**:\n   - Directory creation\n   - Making binary executable (chmod)\n   - Atomic file replacement\n\nAll 25 tests pass (3 skipped on unsupported platforms). Code formatted with Pint, changes committed, and task marked complete with commit hash `e8325b7e80696322bd8410185413707b8df56d58`.\n"}
{"id":"fuel-933e","title":"Create public/install bash script","status":"closed","description":"Bash install script based on Laik pattern. Detects OS (uname -s: Linux/Darwin) and arch (uname -m: x86_64/arm64). Downloads binary from github.com/ashleyhindle/fuel/releases/latest/download/fuel-{os}-{arch}. Installs to ~/.fuel/, adds to PATH in .zshrc/.bashrc. Shows success message with 'cd your-project && fuel init' instructions. Hosted at addfuel.dev/install.","type":"task","priority":2,"labels":[],"size":"m","blocked_by":["fuel-f7bc","fuel-023d"],"created_at":"2026-01-07T13:45:07+00:00","updated_at":"2026-01-07T14:02:39+00:00"}
{"id":"fuel-9383","title":"Update tests for new dependency schema","status":"closed","description":"Update all dependency-related tests in CommandsTest and TaskServiceTest","type":"task","priority":2,"labels":[],"size":"m","created_at":"2026-01-07T12:42:37+00:00","updated_at":"2026-01-07T13:32:57+00:00","blocked_by":["fuel-732f"]}
{"id":"fuel-9449","title":"Add tests for HumanCommand","status":"closed","description":"HumanCommand has 0% test coverage. It's a simple filtered list command (shows tasks with needs-human label). Similar to other list command tests.","type":"task","priority":2,"labels":[],"size":"m","complexity":"simple","blocked_by":[],"created_at":"2026-01-07T15:20:23+00:00","updated_at":"2026-01-07T15:21:58+00:00","consumed":true,"consumed_at":"2026-01-07T15:21:13+00:00","consume_pid":null,"consumed_exit_code":0,"consumed_output":"\nTask completed.\n\n## Summary\n\nAdded tests for `HumanCommand` in `tests/Feature/CommandsTest.php`. The suite includes 10 tests covering:\n\n1. Empty state when no tasks have the needs-human label\n2. Showing open tasks with needs-human label\n3. Excluding closed tasks with needs-human label\n4. Excluding in_progress tasks with needs-human label\n5. Excluding tasks without needs-human label\n6. JSON output format\n7. Empty JSON array when no human tasks\n8. Displaying task descriptions\n9. Showing task count\n10. Sorting by created_at\n\nAll tests pass (234 total), code is formatted, and changes are committed. The task `fuel-9449` is marked as complete.\n"}
{"id":"fuel-9788","title":"Create .github/workflows/release.yml for release builds","status":"closed","description":"Create the GitHub Actions workflow file. Content is in fuel-023d consumed_output. Steps: mkdir -p .github/workflows && create release.yml","type":"task","priority":2,"labels":["needs-human"],"size":"m","blocked_by":[],"created_at":"2026-01-07T14:37:01+00:00","updated_at":"2026-01-07T14:37:53+00:00"}
{"id":"fuel-9f91","title":"Test task 2","status":"closed","description":null,"type":"task","priority":2,"labels":[],"size":"m","blocked_by":[],"created_at":"2026-01-07T13:27:51+00:00","updated_at":"2026-01-07T15:02:35+00:00","reason":"Test task cleanup"}
{"id":"fuel-9fa9","title":"Simplify dependency schema: change {depends_on, type:blocks} to {blocked_by}","status":"closed","description":"Schema change from {depends_on: 'fuel-xxx', type: 'blocks'} to {blocked_by: 'fuel-xxx'}. Simpler, clearer, YAGNI on multiple relationship types.","type":"task","priority":2,"labels":[],"size":"m","created_at":"2026-01-07T12:42:17+00:00","updated_at":"2026-01-07T12:58:28+00:00","blocked_by":[]}
{"id":"fuel-a092","title":"increase gap between curl command and clipboard box in public/index","status":"closed","description":null,"type":"task","priority":2,"labels":[],"size":"m","complexity":"simple","blocked_by":[],"created_at":"2026-01-07T15:17:24+00:00","updated_at":"2026-01-07T15:22:15+00:00","consumed":true,"consumed_at":"2026-01-07T15:17:29+00:00","consume_pid":null,"consumed_exit_code":1,"consumed_output":"ConnectError: [canceled] http/2 stream closed with error code CANCEL (0x8)\n"}
{"id":"fuel-a3a3","title":"Install PHPacker dev dependency","status":"closed","description":"Run: composer require phpacker/phpacker --dev. PHPacker converts PHAR archives into standalone binaries with embedded PHP runtime.","type":"task","priority":2,"labels":[],"size":"m","blocked_by":[],"created_at":"2026-01-07T13:34:30+00:00","updated_at":"2026-01-07T13:51:30+00:00"}
{"id":"fuel-a6e8","title":"Update ready() to exclude tasks with open blockers","status":"closed","created_at":"2026-01-07T10:24:01+00:00","updated_at":"2026-01-07T10:34:24+00:00","blocked_by":[]}
{"id":"fuel-a838","title":"DRY up command boilerplate - extract --cwd handling and JSON output patterns to trait/base class","status":"closed","description":"Every command repeats: (1) --cwd storage path setting (3 lines), (2) JSON error output pattern (5 lines), (3) JSON success output pattern. Extract to a trait or base command class to reduce repetition and improve maintainability.","type":"chore","priority":1,"labels":[],"size":"m","created_at":"2026-01-07T11:30:20+00:00","updated_at":"2026-01-07T11:43:50+00:00","blocked_by":[]}
{"id":"fuel-a869","title":"Add migration for existing tasks to new schema","status":"closed","description":"One-time migration: convert existing {depends_on, type:blocks} to {blocked_by} in tasks.jsonl. Could be a command or just document manual sed.","type":"task","priority":2,"labels":[],"size":"m","created_at":"2026-01-07T12:42:37+00:00","updated_at":"2026-01-07T13:25:37+00:00","blocked_by":["fuel-732f"]}
{"id":"fuel-aafe","title":"Add --labels flag to AddCommand. Use schema from fuel-faaa: pass to create(['labels' => explode(',', $value)])","status":"closed","created_at":"2026-01-07T10:36:43+00:00","updated_at":"2026-01-07T10:53:22+00:00","blocked_by":["fuel-faaa"]}
{"id":"fuel-ac73","title":"Add retry command - move stuck tasks to open","status":"closed","description":"./fuel retry <id> moves tasks with consumed=true and consumed_exit_code != 0 back to open status, clearing consumed fields. Alias or alternative to reopen for stuck tasks.","type":"task","priority":2,"labels":[],"size":"m","blocked_by":[],"created_at":"2026-01-07T14:33:57+00:00","updated_at":"2026-01-07T14:35:49+00:00","consumed":true,"consumed_at":"2026-01-07T14:34:55+00:00","consumed_exit_code":0,"consumed_output":"\n## Summary\n\nImplemented the `retry` command for task `fuel-ac73`.\n\n### Changes Made:\n\n1. **Added `retry()` method to `TaskService`** (`app/Services/TaskService.php`):\n   - Validates that the task has `consumed=true` and `consumed_exit_code != 0`\n   - Sets status to `open`\n   - Clears consumed fields (`consumed`, `consumed_at`, `consumed_exit_code`, `consumed_output`)\n   - Removes `reason` if present\n\n2. **Created `RetryCommand`** (`app/Commands/RetryCommand.php`):\n   - Accepts one or more task IDs (supports partial matching)\n   - Supports `--json` output\n   - Supports `--cwd` option\n   - Handles errors gracefully\n\n3. **Added tests** (`tests/Feature/CommandsTest.php`):\n   - 10 test cases covering success, error handling, JSON output, partial IDs, and multiple tasks\n\n### Features:\n- `./fuel retry <id>` moves stuck tasks (`consumed=true` and `consumed_exit_code != 0`) back to `open` status\n- Clears consumed fields for a clean retry\n- Supports multiple IDs and partial matching\n- JSON output support for scripting\n- All 216 tests pass\n\nThe command is ready to use and follows the same patterns as other Fuel commands.\n"}
{"id":"fuel-ae0d","title":"Update agent-instructions.md to encourage complexity usage","status":"closed","description":"Add guidance for agents to set --complexity when adding tasks. Note that 'complex' tasks should often be broken down.","type":"task","priority":2,"labels":[],"size":"m","blocked_by":[],"created_at":"2026-01-07T14:58:25+00:00","updated_at":"2026-01-07T15:01:19+00:00","consumed":true,"consumed_at":"2026-01-07T15:00:25+00:00","consume_pid":null,"consumed_exit_code":0,"consumed_output":"\nTask complete.\n\n## Summary\n\nUpdated `agent-instructions.md` to add guidance on using `--complexity` when adding tasks:\n\n1. Added `--complexity` to the Task Options section with available values (trivial, simple, moderate, complex)\n2. Created a new \"Complexity\" section that:\n   - Encourages agents to always set `--complexity` when adding tasks\n   - Explains each complexity level with examples\n   - Notes that `complex` tasks should often be broken down into smaller subtasks\n   - Provides examples of breaking down complex tasks\n\nThe changes are committed and the task is marked complete. All mandatory closing protocol steps have been completed.\n"}
{"id":"fuel-b12b","title":"Add dependencies field to task schema and TaskService","status":"closed","created_at":"2026-01-07T10:24:01+00:00","updated_at":"2026-01-07T10:34:23+00:00","blocked_by":[]}
{"id":"fuel-bfca","title":"Test all flags","status":"closed","description":"Testing","type":"bug","priority":3,"labels":["test","cli"],"created_at":"2026-01-07T10:52:55+00:00","updated_at":"2026-01-07T15:02:34+00:00","blocked_by":[],"reason":"Test task cleanup"}
{"id":"fuel-c26a","title":"Create public/index.html landing page","status":"closed","description":"Simple landing page with: Fuel title, tagline 'Lightweight task management for AI agents', install command (curl -L addfuel.dev/install | sh), and link to github.com/ashleyhindle/fuel. Minimal styling, no frameworks.","type":"task","priority":2,"labels":[],"size":"m","blocked_by":[],"created_at":"2026-01-07T13:44:58+00:00","updated_at":"2026-01-07T13:52:20+00:00"}
{"id":"fuel-c340","title":"Use complexity in ConsumeCommand task selection","status":"closed","description":"Update consume to factor complexity into task selection/scoring. Can combine with size and priority for routing decisions.","type":"task","priority":2,"labels":[],"size":"m","blocked_by":["fuel-5852"],"created_at":"2026-01-07T14:58:26+00:00","updated_at":"2026-01-07T15:01:50+00:00","consumed":true,"consumed_at":"2026-01-07T15:01:20+00:00","consume_pid":null,"consumed_exit_code":0,"consumed_output":"\n## Summary\n\nUpdated `ConsumeCommand` to factor complexity into task selection, combined with size and priority.\n\n**Changes made:**\n\n1. **Added scoring method** (`calculateTaskScore`):\n   - Priority: weight 100 (0 = critical, 4 = backlog)\n   - Complexity: weight 10 (trivial=0, simple=1, moderate=2, complex=3)\n   - Size: weight 1 (xs=0, s=1, m=2, l=3, xl=4)\n   - Lower score = higher priority\n\n2. **Updated task selection**:\n   - Tasks are scored and sorted by score (ascending)\n   - Falls back to priority and created_at for tie-breaking\n   - Selects the highest-priority task (lowest score)\n\n**Results:**\n- All tests pass (223 tests, 656 assertions)\n- Code formatted with Pint\n- Changes committed with conventional commit message\n- Task marked as complete\n\nThe `consume` command now prioritizes tasks with higher priority, lower complexity, and smaller size.\n"}
{"id":"fuel-c5c9","title":"Show stuck emoji in BoardCommand when in_progress but PID not running","status":"closed","description":"If task has consume_pid set but that PID isn't running (check with posix_kill(pid, 0) or /proc), show a stuck emoji like ðŸª« or ðŸ’€. Requires fuel-812a (PID tracking) first.","type":"task","priority":2,"labels":[],"size":"m","blocked_by":["fuel-812a"],"created_at":"2026-01-07T14:37:29+00:00","updated_at":"2026-01-07T14:38:11+00:00","consumed":true,"consumed_at":"2026-01-07T14:37:29+00:00","consumed_exit_code":0,"consumed_output":"\nTask completed.\n\n## Summary\n\nImplemented showing a stuck emoji (ðŸª«) in BoardCommand when a task is `in_progress` but its `consume_pid` is not running.\n\n**Changes made:**\n\n1. **Added PID checking logic** in `BoardCommand::buildColumn()`:\n   - Checks if task status is `in_progress`\n   - Checks if `consume_pid` is set\n   - Verifies if the PID is running using `isPidRunning()`\n   - Shows ðŸª« emoji if the PID is not running\n\n2. **Added `isPidRunning()` helper method**:\n   - Primary: uses `posix_kill($pid, 0)` (signal 0 checks process existence)\n   - Fallback: checks `/proc/{pid}` on Linux\n   - Fallback: uses `ps` command on Unix-like systems\n   - Fallback: uses `tasklist` on Windows\n   - Conservative default: returns `true` if checks are unavailable\n\n3. **Added tests**:\n   - Test for showing stuck emoji when PID is not running\n   - Test for not showing stuck emoji when PID is running\n\nAll 218 tests pass, including the new ones. The feature is ready and working.\n"}
{"id":"fuel-c5f6","title":"Add in_progress status support","status":"closed","description":"1. Add 'in_progress' to valid statuses in TaskService. 2. ready() excludes in_progress tasks. 3. Add './fuel start <id>' command to claim a task (sets status=in_progress). 4. Update docs.","type":"task","priority":1,"labels":[],"size":"m","created_at":"2026-01-07T11:09:43+00:00","updated_at":"2026-01-07T11:16:43+00:00","blocked_by":[]}
{"id":"fuel-cbb2","title":"Add 'available' command - echoes count of ready tasks, exits 0 if any available, 1 if none","status":"closed","description":null,"type":"task","priority":2,"labels":[],"size":"m","created_at":"2026-01-07T11:50:24+00:00","updated_at":"2026-01-07T11:52:11+00:00","blocked_by":[]}
{"id":"fuel-d13b","title":"TaskB","status":"closed","created_at":"2026-01-07T10:31:28+00:00","updated_at":"2026-01-07T10:35:35+00:00","blocked_by":["fuel-f832"]}
{"id":"fuel-d15b","title":"Add builds/ to .gitignore","status":"closed","description":"Add builds/ directory to .gitignore. Built binaries should not be committed - only generated for releases.","type":"task","priority":2,"labels":[],"size":"m","blocked_by":[],"created_at":"2026-01-07T13:34:38+00:00","updated_at":"2026-01-07T13:51:43+00:00"}
{"id":"fuel-d27d","title":"Add list command. Use schema from fuel-faaa. Filters: --status, --type, --priority, --labels. Output all schema fields.","status":"closed","created_at":"2026-01-07T10:36:43+00:00","updated_at":"2026-01-07T11:00:08+00:00","blocked_by":["fuel-faaa"]}
{"id":"fuel-d3af","title":"on hover of clipboard icon slowly transition to the 'fuel' emoji â›½, and slowly transition back to the clipboard SVG when they hover out, obviously this doesn't happen once clicked and it's the checkbox and such","status":"closed","description":"Just a fun lil' detail y'know","type":"task","priority":2,"labels":[],"size":"m","complexity":"simple","blocked_by":[],"created_at":"2026-01-07T15:55:18+00:00","updated_at":"2026-01-07T15:55:45+00:00","consumed":true,"consumed_at":"2026-01-07T15:55:21+00:00","consume_pid":null,"consumed_exit_code":0,"consumed_output":"\nTask completed. Summary:\n\n## Task Completed: fuel-d3af\n\n**Implementation Summary:**\n\nAdded a hover transition effect to the clipboard icon button in `public/index.html`:\n\n1. **Added fuel emoji element**: Added a `<span>` with the fuel emoji (â›½) that's positioned absolutely and hidden by default\n2. **Added CSS transitions**: Applied `transition-opacity duration-300` classes to both the clipboard icon and fuel emoji for smooth transitions\n3. **Implemented hover logic**: \n   - On hover: clipboard icon fades out (opacity 0) while fuel emoji fades in (opacity 1)\n   - On hover out: fuel emoji fades out while clipboard icon fades back in\n   - The hover effect is disabled when the button is in the \"clicked\" state (showing the checkmark)\n4. **State management**: Added an `isClicked` flag to prevent hover effects from interfering with the click behavior\n\nThe transition uses 300ms opacity changes, and the hover effect only works when the button is in its normal state (not showing the checkmark after click).\n\n**Closing Protocol Completed:**\n- âœ… Task marked as done\n- âœ… No incomplete/discovered work\n- âœ… No linter errors\n- âœ… Changes committed: `feat: add hover transition from clipboard icon to fuel emoji`\n- âœ… Task state verified: no open tasks remaining\n\nThe feature is ready and the hover effect transitions smoothly between the clipboard icon and the fuel emoji.\n"}
{"id":"fuel-d47a","title":"Update agent-instructions.md with needs-human workflow","status":"closed","description":"Add 'Needs-Human Workflow' section to agent-instructions.md explaining WHEN and HOW to use --labels=needs-human.\n\n**WHEN to create needs-human tasks:**\n- Before deploying: 'Test X deployment after deploy'\n- When needing credentials/tokens: 'Provide API token for X'\n- When human verification required: 'Verify emails sending correctly'\n- When manual steps needed: 'Create DNS records'\n- When decisions needed: 'Choose between approach A vs B'\n- After completing work that can't be automatically tested\n\n**HOW to write them:**\n- Clear title describing the action needed\n- Description with exact steps: WHAT to test/do and HOW to do it\n- Example: --description='Visit addfuel.dev, verify index.html loads, run: curl -L addfuel.dev/install | sh'\n\n**Workflow:**\n1. Agent creates needs-human task with --labels=needs-human\n2. Agent blocks current work on it (./fuel dep:add current-task needs-human-task)\n3. Human sees task in ./fuel human, completes it, runs ./fuel done\n4. Agent work unblocks and resumes\n\nUpdate agent-instructions.md, then run ./fuel guidelines --add to sync to CLAUDE.md","type":"task","priority":2,"labels":[],"size":"m","blocked_by":["fuel-0d88"],"created_at":"2026-01-07T13:52:32+00:00","updated_at":"2026-01-07T14:18:23+00:00","consumed":true,"consumed_at":"2026-01-07T14:18:09+00:00","consumed_exit_code":0,"consumed_output":"\nTask completed.\n\n1. Updated `agent-instructions.md` with an enhanced \"Needs-Human Workflow\" section, including:\n   - WHEN to create needs-human tasks (deployment testing, credentials, verification, manual steps, decisions, untestable work)\n   - HOW to write them (clear title, detailed description with exact steps)\n   - The existing workflow steps\n\n2. Synced the changes to `CLAUDE.md` using `./fuel guidelines --add`\n\n3. Marked the task as done with `./fuel done fuel-d47a`\n\nThe documentation now includes guidance on when and how to use the needs-human workflow.\n"}
{"id":"fuel-d577","title":"Write README.md with project overview and quickstart","status":"closed","description":null,"type":"task","priority":1,"labels":[],"size":"m","created_at":"2026-01-07T12:06:11+00:00","updated_at":"2026-01-07T12:08:35+00:00","blocked_by":[]}
{"id":"fuel-d64e","title":"Add collision detection to ID generation","status":"closed","description":"generateId() should check if generated ID already exists and regenerate if so. Loop until unique ID found (with max attempts safeguard).","type":"bug","priority":2,"labels":[],"size":"m","complexity":"simple","blocked_by":[],"created_at":"2026-01-07T16:18:02+00:00","updated_at":"2026-01-07T16:22:01+00:00","consume_pid":null,"consumed":true,"consumed_at":"2026-01-07T16:21:04+00:00","commit_hash":"0e3c46c","consumed_exit_code":0,"consumed_output":"\nTask complete. Summary:\n\n## Summary\n\nAdded collision detection to ID generation in `TaskService::generateId()`.\n\n### Changes Made:\n\n1. **Modified `generateId()` method** (`app/Services/TaskService.php`):\n   - Changed signature from `generateId(int $taskCount = 0)` to `generateId(?Collection $existingTasks = null)`\n   - Added collision detection that checks if generated ID already exists\n   - Loops until a unique ID is found\n   - Added max attempts safeguard (100 attempts) to prevent infinite loops\n   - Throws `RuntimeException` if unable to generate unique ID after max attempts\n\n2. **Updated call site** in `create()` method:\n   - Changed from `$this->generateId($tasks->count())` to `$this->generateId($tasks)`\n   - Now passes the tasks collection so collision detection can check against existing IDs\n\n3. **Added tests** (`tests/Unit/TaskServiceTest.php`):\n   - Test for generating unique IDs with collision detection (100 tasks)\n   - Test for backward compatibility (calling `generateId()` without parameters)\n   - Test for collision avoidance when existing tasks are provided\n\n### Verification:\n- âœ… All tests pass (203 tests)\n- âœ… Code formatted with Pint\n- âœ… Committed as `0e3c46c` with message: \"fix: add collision detection to ID generation\"\n- âœ… Task marked as done\n\nThe implementation ensures that generated task IDs are always unique, even in the extremely rare case of a hash collision.\n"}
{"id":"fuel-ddd4","title":"want the gap between the curl command and clipboard button in public/index.html to be 1.5rem, whatever that is in tailwind land - make sure to land the plane","status":"closed","description":null,"type":"task","priority":2,"labels":[],"size":"m","complexity":"simple","blocked_by":[],"created_at":"2026-01-07T15:19:48+00:00","updated_at":"2026-01-07T15:20:05+00:00","consumed":true,"consumed_at":"2026-01-07T15:19:53+00:00","consume_pid":null,"consumed_exit_code":0,"consumed_output":"\nTask completed.\n\n**Summary:**\n- Changed the gap between the curl command and clipboard button from `gap-3` (0.75rem) to `gap-6` (1.5rem) in `public/index.html`\n- Marked task fuel-ddd4 as done\n- Ran code formatter (pint)\n- Committed changes with conventional commit message\n- Verified task state\n\nThe gap is now 1.5rem (Tailwind's `gap-6`).\n"}
{"id":"fuel-dfa5","title":"Remove stream_isatty at line 228 - sync output start","status":"closed","description":null,"type":"task","priority":2,"labels":[],"size":"m","blocked_by":["fuel-53ca"],"created_at":"2026-01-07T14:33:56+00:00","updated_at":"2026-01-07T14:34:45+00:00","reason":"Completed by parent task fuel-53ca"}
{"id":"fuel-e20f","title":"make public/index.html wider, curl command wraps atm","status":"closed","description":null,"type":"task","priority":2,"labels":[],"size":"m","blocked_by":[],"created_at":"2026-01-07T14:11:26+00:00","updated_at":"2026-01-07T14:20:51+00:00","consumed":true,"consumed_at":"2026-01-07T14:20:41+00:00","consumed_exit_code":0,"consumed_output":"\nTask completed. The page is wider (900px instead of 600px), and the curl command uses `white-space: nowrap` to prevent wrapping on desktop.\n\n**Summary of changes:**\n- Increased container `max-width` from 600px to 900px\n- Changed `word-break: break-all` to `white-space: nowrap` for the install command\n- Updated media queries to maintain responsive behavior on smaller screens\n\nThe curl command should now display on a single line without wrapping. Task fuel-e20f is marked as complete.\n"}
{"id":"fuel-e316","title":"Test needs-human icon","status":"closed","description":null,"type":"task","priority":2,"labels":["needs-human"],"size":"m","blocked_by":[],"created_at":"2026-01-07T13:55:41+00:00","updated_at":"2026-01-07T15:02:36+00:00","reason":"Test task cleanup"}
{"id":"fuel-e33e","title":"Remove duplicate default logic in AddCommand","status":"closed","description":"AddCommand sets complexity default to 'simple' but TaskService already defaults it. Remove the else block or use null coalescing. Let TaskService be the source of truth for defaults.","type":"task","priority":2,"labels":[],"size":"m","complexity":"trivial","blocked_by":[],"created_at":"2026-01-07T15:06:42+00:00","updated_at":"2026-01-07T15:10:09+00:00","consume_pid":null,"consumed":true,"consumed_at":"2026-01-07T15:09:40+00:00","consumed_exit_code":0,"consumed_output":"\nTask completed.\n\n## Summary\n\nRemoved duplicate default logic in `AddCommand`. The command was setting `complexity` to `'simple'` when not provided, but `TaskService` already defaults it (line 140).\n\n**Changes made:**\n- Removed the `else` block in `AddCommand.php` that set `complexity` to `'simple'`\n- Now `AddCommand` only sets `complexity` if explicitly provided, matching other optional fields\n- `TaskService` remains the source of truth for defaults\n\n**Verification:**\n- All 224 tests pass, including the test that verifies complexity defaults to `'simple'`\n- Code formatting verified\n- Changes committed with conventional commit message\n- Task marked as complete\n\nThe refactoring maintains the same behavior while removing duplication and making `TaskService` the single source of truth for defaults.\n"}
{"id":"fuel-e489","title":"Add fuel human command to list needs-human tasks","status":"closed","description":"New command 'human' (or 'inbox') that lists all open tasks with 'needs-human' label. Show task ID, title, description (important - describes what human needs to do). Support --json flag. Use HandlesJsonOutput trait.","type":"task","priority":2,"labels":[],"size":"m","blocked_by":[],"created_at":"2026-01-07T13:52:21+00:00","updated_at":"2026-01-07T13:54:24+00:00"}
{"id":"fuel-ee4b","title":"Change task ID prefix from 'fuel-' to 'f-'","status":"closed","description":"Update prefix in TaskService from 'fuel' to 'f'. Will affect generateId() and partial ID matching in find()/findInCollection(). Existing tasks keep old IDs.","type":"chore","priority":2,"labels":[],"size":"m","complexity":"simple","blocked_by":[],"created_at":"2026-01-07T16:18:02+00:00","updated_at":"2026-01-07T16:21:03+00:00","consumed":true,"consumed_at":"2026-01-07T16:19:41+00:00","consume_pid":null,"commit_hash":"2754224","consumed_exit_code":0,"consumed_output":"\n## Summary\n\nCompleted task `fuel-ee4b`: Changed task ID prefix from 'fuel-' to 'f-'\n\n### Changes Made:\n\n1. **TaskService.php**:\n   - Changed prefix from `'fuel'` to `'f'` (line 23)\n   - Updated `find()` and `findInCollection()` to support both old 'fuel-' and new 'f-' prefixes for backward compatibility\n\n2. **Tests Updated**:\n   - Updated all test expectations from 'fuel-' to 'f-'\n   - Updated ID length expectations from 11 to 8 characters\n   - Updated partial ID extraction offsets from 5 to 2 characters\n   - Updated ambiguous partial ID test to use 'f' instead of 'fuel'\n\n### Verification:\n\n- All tests pass (203 tests)\n- Code formatted with Pint\n- Backward compatibility verified: old 'fuel-' prefixed tasks can still be found\n- New tasks correctly use 'f-' prefix\n- Partial ID matching works for both old and new prefixes\n\n### Commit:\n- Committed as `2754224` with message: \"chore: change task ID prefix from 'fuel-' to 'f-'\"\n- Task marked as done with commit hash\n\nThe task is complete. Existing tasks keep their old 'fuel-' IDs, and new tasks use the shorter 'f-' prefix.\n"}
{"id":"fuel-f0d4","title":"Add status command - show task statistics overview","status":"closed","description":"Quick health check showing counts: open, in_progress, closed, blocked. Like 'git status' for tasks. Simple groupBy on status field.","type":"feature","priority":2,"labels":[],"size":"m","created_at":"2026-01-07T11:31:07+00:00","updated_at":"2026-01-07T13:20:12+00:00","blocked_by":["fuel-a838"]}
{"id":"fuel-f273","title":"Add --priority flag to AddCommand. Use schema from fuel-faaa: pass to create(['priority' => (int)$value]), validate 0-4","status":"closed","created_at":"2026-01-07T10:36:43+00:00","updated_at":"2026-01-07T10:53:22+00:00","blocked_by":["fuel-faaa"]}
{"id":"fuel-f5c4","title":"Show needs-human icon in board command","status":"closed","description":"In BoardCommand, show a ðŸ‘¤ or ðŸ§‘ icon next to tasks with 'needs-human' label. Similar to how consumed tasks show âš¡ icon. Update buildColumn() method to check for label and prepend icon.","type":"task","priority":2,"labels":[],"size":"m","blocked_by":[],"created_at":"2026-01-07T13:52:32+00:00","updated_at":"2026-01-07T13:56:33+00:00"}
{"id":"fuel-f6a1","title":"Add --type flag to AddCommand. Use schema from fuel-faaa: pass to create(['type' => $value]), validate enum","status":"closed","created_at":"2026-01-07T10:36:43+00:00","updated_at":"2026-01-07T10:53:22+00:00","blocked_by":["fuel-faaa"]}
{"id":"fuel-f7bc","title":"Create build.sh script","status":"closed","description":"Create build.sh that: 1) Builds PHAR with php fuel app:build fuel.phar --build-version=$(git describe --tags 2>/dev/null || echo dev), 2) Runs ./vendor/bin/phpacker build --src=./builds/fuel.phar --php=8.4 all to create binaries for all platforms. Make executable with chmod +x.","type":"task","priority":2,"labels":[],"size":"m","blocked_by":["fuel-a3a3"],"created_at":"2026-01-07T13:35:02+00:00","updated_at":"2026-01-07T13:51:56+00:00"}
{"id":"fuel-f7ce","title":"Test blocked-by","status":"closed","description":null,"type":"task","priority":2,"labels":[],"created_at":"2026-01-07T10:56:45+00:00","updated_at":"2026-01-07T15:02:34+00:00","blocked_by":["fuel-507b"],"reason":"Test task cleanup"}
{"id":"fuel-f832","title":"TaskA","status":"closed","created_at":"2026-01-07T10:31:14+00:00","updated_at":"2026-01-07T10:35:35+00:00","blocked_by":[]}
{"id":"fuel-faaa","title":"CONTRACT: Expand task schema in TaskService. Add fields: description (string|null), type (enum: bug|feature|task|epic|chore, default task), priority (int 0-4, default 2), labels (array of strings). Update create() to accept these. JSON output includes all fields. Tests must verify schema.","status":"closed","created_at":"2026-01-07T10:40:12+00:00","updated_at":"2026-01-07T10:47:13+00:00","blocked_by":[]}
{"id":"fuel-faef","title":"add basic OG to public/index.html for when sharing","status":"closed","description":null,"type":"task","priority":2,"labels":[],"size":"m","complexity":"simple","blocked_by":[],"created_at":"2026-01-07T15:10:21+00:00","updated_at":"2026-01-07T15:10:52+00:00","consumed":true,"consumed_at":"2026-01-07T15:10:26+00:00","consume_pid":null,"consumed_exit_code":0,"consumed_output":"\nTask completed.\n\nAdded Open Graph and Twitter Card meta tags to `public/index.html`:\n\n- **Open Graph tags**: `og:type`, `og:url`, `og:title`, `og:description`, `og:image`, `og:site_name`\n- **Twitter Card tags**: `twitter:card`, `twitter:url`, `twitter:title`, `twitter:description`, `twitter:image`\n\nThese enable rich previews when the page is shared on social platforms. Used the existing `web-app-manifest-512x512.png` as the share image.\n\nAll closing protocol steps completed:\n- Task marked as done\n- Code formatted with Pint\n- Changes committed to git\n- Task state verified\n\nThe page is ready for social sharing with proper preview cards.\n"}
{"id":"fuel-fc15","title":"Setup Cloudflare Pages for addfuel.dev","status":"closed","description":"Create wrangler.toml to deploy public/ directory to Cloudflare Pages at addfuel.dev. Config should: point to public/ as output directory, enable static site hosting. Add deploy script to package.json or document 'npx wrangler pages deploy public/' command. Site serves index.html at root and install script at /install for curl.","type":"task","priority":2,"labels":[],"size":"m","blocked_by":["fuel-c26a"],"created_at":"2026-01-07T13:46:53+00:00","updated_at":"2026-01-07T13:52:55+00:00"}
{"id":"fuel-fd52","title":"Test stuck task","status":"closed","description":null,"type":"task","priority":2,"labels":[],"size":"m","blocked_by":[],"created_at":"2026-01-07T14:35:38+00:00","updated_at":"2026-01-07T15:02:36+00:00","reason":"Test task cleanup"}
{"id":"fuel-fe59","title":"Test task with schema","status":"closed","description":null,"type":"task","priority":2,"labels":[],"created_at":"2026-01-07T10:46:05+00:00","updated_at":"2026-01-07T15:02:34+00:00","blocked_by":[],"reason":"Test task cleanup"}
